appId: com.tuvotodecide
---
# Test: Flujo completo de participación electoral con múltiples escenarios
- launchApp:
    clearState: false
- tapOn: "Open debugger to view warnings."
- assertNotVisible: "Open debugger to view warnings."

# === FASE 1: LOGIN Y SETUP INICIAL ===
- tapOn: "Tengo una cuenta"
- inputText: "1234"
- assertVisible: "Bienvenido"

# === FASE 2: EXPLORAR PARTICIPACIÓN ELECTORAL ===
- tapOn: ", Participar, Sube actas electorales o participa como testigo en el proceso de verificación ciudadana"
- assertVisible: "Participación Electoral"
- assertVisible: "Subir actas electorales"
- assertVisible: "Atestiguar actas"

# === FASE 3: ESCENARIO 1 - SUBIR NUEVA ACTA ===
- tapOn: "Subir actas electorales"
- tapOn: "Mesa 120"
- tapOn: "Tomar Foto"
- tapOn: "Tomar Foto"
- tapOn:
    text: ", Analizar"
    optional: false
    repeat: 1
    delay: 10000
- extendedWaitUntil:
    visible: "Acta"
    timeout: 25000

# Editar datos básicos
- swipe:
    start: "50%, 80%"
    end: "50%, 10%"
    duration: 300
- tapOn:
    id: "editButton"
- scrollUntilVisible:
    element:
      id: partyInputPresidente0
    direction: up
- doubleTapOn:
    id: partyInputPresidente0
- eraseText
- inputText: "45"

# Guardar y continuar
- tapOn:
    id: "saveButton"
- tapOn:
    id: "nextButton"
- tapOn: "Publico y Certifico"
- extendedWaitUntil:
    visible: "Certificado NFT"
    timeout: 35000
    optional: true

# === FASE 4: REGRESAR Y EXPLORAR ATESTIGUAMIENTO ===
- tapOn: "Regresar"
- tapOn: "Participación Electoral"
- tapOn: "Atestiguar actas"

# === FASE 5: ESCENARIO 2 - ATESTIGUAR ACTA EXISTENTE ===
- extendedWaitUntil:
    visible: "Actas para atestiguar"
    timeout: 15000
- tapOn: "Mesa 120"
- extendedWaitUntil:
    visible: "¿Cuál es correcta?"
    timeout: 15000

# Confirmar acta correcta
- tapOn: "Esta es correcta"
- tapOn: "Confirmar atestiguamiento"
- extendedWaitUntil:
    visible: "Atestiguamiento registrado"
    timeout: 15000

# === FASE 6: EXPLORAR DIFERENTES MESAS ===
- tapOn: "Regresar"
- tapOn: "Mesa 150"
- extendedWaitUntil:
    visible: "¿Cuál es correcta?"
    timeout: 15000
    optional: true

# Caso: Ninguna es correcta
- tapOn: "Ninguna es correcta"
- tapOn: "Subir foto de acta correcta"
- tapOn: "Tomar foto"
- tapOn: "Continuar"
- extendedWaitUntil:
    visible: "Datos de la nueva acta"
    timeout: 15000
    optional: true

# === FASE 7: VERIFICAR HISTORIAL DE PARTICIPACIÓN ===
- tapOn: "Regresar"
- tapOn: "Ver mis atestiguamientos"
- assertVisible:
    text: "Mis Atestiguamientos"
    optional: true

# Ver detalles de atestiguamientos
- tapOn: "Mesa 120"
- assertVisible:
    text: "Detalle del Atestiguamiento"
    optional: true

# === FASE 8: EXPLORAR ESTADÍSTICAS ===
- tapOn: "Regresar"
- tapOn: "Estadísticas"
- assertVisible:
    text: "Total atestiguamientos"
    optional: true

# === FASE 9: NAVEGACIÓN A UBICACIONES ELECTORALES ===
- tapOn: "Regresar"
- tapOn: "Ubicaciones electorales"
- assertVisible:
    text: "Mesas cercanas"
    optional: true

# Filtrar por ubicación
- tapOn: "Filtrar por zona"
- assertVisible:
    text: "Selecciona tu zona"
    optional: true

# === FASE 10: FUNCIONALIDADES AVANZADAS ===
- tapOn: "Configuración electoral"
- assertVisible:
    text: "Notificaciones de nuevas actas"
    optional: true
- assertVisible:
    text: "Modo testigo automático"
    optional: true

# Activar notificaciones
- tapOn: "Notificaciones de nuevas actas"
- assertVisible:
    text: "Notificaciones activadas"
    optional: true

# === FASE 11: EXPORTACIÓN DE DATOS ===
- tapOn: "Exportar mi participación"
- assertVisible:
    text: "Generar reporte"
    optional: true
- tapOn: "Generar reporte PDF"
- extendedWaitUntil:
    visible: "Reporte generado"
    timeout: 15000
    optional: true

# === FASE 12: VERIFICACIÓN DE CERTIFICADOS ===
- tapOn: "Verificar certificados"
- assertVisible:
    text: "Verificador de certificados NFT"
    optional: true

# Verificar un certificado propio
- inputText: "0x1234..."
- tapOn: "Verificar"
- extendedWaitUntil:
    visible: "Certificado válido"
    timeout: 10000
    optional: true

# === FASE 13: MODO COLABORATIVO ===
- tapOn: "Modo colaborativo"
- assertVisible:
    text: "Invitar otros testigos"
    optional: true

# Invitar colaboradores
- tapOn: "Invitar testigo"
- inputText: "12345678"  # CI del testigo
- tapOn: "Enviar invitación"
- extendedWaitUntil:
    visible: "Invitación enviada"
    timeout: 8000
    optional: true

# === FASE 14: HERRAMIENTAS DE ANÁLISIS ===
- tapOn: "Herramientas de análisis"
- assertVisible:
    text: "Comparar resultados"
    optional: true
- assertVisible:
    text: "Detectar inconsistencias"
    optional: true

# === FASE 15: SOPORTE Y AYUDA ===
- tapOn: "Ayuda electoral"
- assertVisible:
    text: "Guía de atestiguamiento"
    optional: true
- assertVisible:
    text: "Preguntas frecuentes"
    optional: true

# Ver guía
- tapOn: "Guía de atestiguamiento"
- assertVisible:
    text: "Cómo atestiguar correctamente"
    optional: true

# === FASE 16: CONFIGURACIÓN DE PRIVACIDAD ===
- tapOn: "Regresar"
- tapOn: "Privacidad electoral"
- assertVisible:
    text: "Datos compartidos públicamente"
    optional: true
- assertVisible:
    text: "Anonimizar atestiguamientos"
    optional: true

# === FASE 17: SINCRONIZACIÓN Y RESPALDO ===
- tapOn: "Sincronización"
- tapOn: "Sincronizar todo"
- extendedWaitUntil:
    visible: "Sincronización completada"
    timeout: 20000
    optional: true

# === FASE 18: NAVEGACIÓN FINAL ===
- tapOn: "Regresar"
- tapOn: "Participación Electoral"
- assertVisible: "Subir actas electorales"
- assertVisible: "Atestiguar actas"

# === FASE 19: VERIFICACIÓN DE ESTADO GENERAL ===
- tapOn: "Estado del sistema"
- assertVisible:
    text: "Mesas procesadas hoy"
    optional: true
- assertVisible:
    text: "Atestiguamientos pendientes"
    optional: true
- assertVisible:
    text: "Nivel de participación"
    optional: true

# === FASE 20: REGRESO AL INICIO ===
- tapOn: "Regresar"
- assertVisible: "Bienvenido"
- assertVisible: "Inicio"
