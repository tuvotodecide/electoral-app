appId: com.tuvotodecide
---
# Test: Gestión de historial y consulta de atestiguamientos propios
- launchApp:
    clearState: false
- tapOn: "Open debugger to view warnings."
- assertNotVisible: "Open debugger to view warnings."

# === FASE 1: LOGIN Y NAVEGACIÓN ===
- tapOn: "Tengo una cuenta"
- inputText: "1234"
- assertVisible: "Bienvenido"

# === FASE 2: ACCEDER A HISTORIAL ===
- tapOn: "Perfil"
- scrollUntilVisible:
    element:
      text: "Mis Atestiguamientos"
    direction: down
    optional: true
- tapOn:
    text: "Mis Atestiguamientos"
    optional: true

# Método alternativo si no está en perfil
- tapOn: "Inicio"
- tapOn: ", Participar, Sube actas electorales o participa como testigo en el proceso de verificación ciudadana"
- tapOn: "Ver mis atestiguamientos"

# === FASE 3: VERIFICAR LISTA DE ATESTIGUAMIENTOS ===
- extendedWaitUntil:
    visible: "Mis Atestiguamientos"
    timeout: 15000

# Verificar carga de datos
- assertVisible:
    text: "Cargando atestiguamientos"
    optional: true

# === FASE 4: EXPLORAR ATESTIGUAMIENTOS EXISTENTES ===
- assertVisible:
    text: "Mesa"
    optional: true
- assertVisible:
    text: "Fecha"
    optional: true

# Si no hay atestiguamientos
- assertVisible:
    text: "No tienes atestiguamientos registrados"
    optional: true
- assertVisible:
    text: "Comienza atestiguando una mesa"
    optional: true

# Si hay atestiguamientos, verificar información
- assertVisible:
    text: "Mesa 120"
    optional: true
- assertVisible:
    text: "Estado: Confirmado"
    optional: true

# === FASE 5: FILTROS Y BÚSQUEDA ===
- assertVisible:
    text: "Filtrar por fecha"
    optional: true
- tapOn:
    text: "Filtrar por fecha"
    optional: true

# Opciones de filtro
- assertVisible:
    text: "Última semana"
    optional: true
- assertVisible:
    text: "Último mes"
    optional: true
- tapOn:
    text: "Última semana"
    optional: true

# Búsqueda por mesa
- assertVisible:
    text: "Buscar mesa"
    optional: true
- tapOn:
    text: "Buscar mesa"
    optional: true
- inputText: "120"
- tapOn: "Buscar"

# === FASE 6: DETALLES DE ATESTIGUAMIENTO ===
- tapOn: "Mesa 120"
- extendedWaitUntil:
    visible: "Detalle del Atestiguamiento"
    timeout: 10000

# Verificar información detallada
- assertVisible:
    text: "Resultados atestiguados"
    optional: true
- assertVisible:
    text: "Fecha y hora"
    optional: true
- assertVisible:
    text: "Estado del atestiguamiento"
    optional: true

# === FASE 7: VISUALIZAR DATOS DEL ATESTIGUAMIENTO ===
- assertVisible:
    text: "Votos registrados de la mesa"
    optional: true

# Scroll para ver todos los partidos
- swipe:
    start: "50%, 80%"
    end: "50%, 20%"
    duration: 300

# Verificar partidos atestiguados
- assertVisible:
    text: "Presidente"
    optional: true
- assertVisible:
    text: "Diputado"
    optional: true
- assertVisible:
    text: "Válidos"
    optional: true
- assertVisible:
    text: "Blancos"
    optional: true
- assertVisible:
    text: "Nulos"
    optional: true

# === FASE 8: OPCIONES DE EXPORTACIÓN ===
- scrollUntilVisible:
    element:
      text: "Exportar datos"
    direction: down
    optional: true
- tapOn:
    text: "Exportar datos"
    optional: true

# Opciones de exportación
- assertVisible:
    text: "Exportar como PDF"
    optional: true
- assertVisible:
    text: "Compartir"
    optional: true

- tapOn:
    text: "Exportar como PDF"
    optional: true

# === FASE 9: VERIFICAR CERTIFICADO NFT ===
- tapOn:
    text: "Ver certificado NFT"
    optional: true

- extendedWaitUntil:
    visible: "Certificado NFT"
    timeout: 10000
    optional: true

# Verificar detalles del certificado
- assertVisible:
    text: "Hash de transacción"
    optional: true
- assertVisible:
    text: "Enlace a blockchain"
    optional: true

# === FASE 10: ESTADÍSTICAS PERSONALES ===
- tapOn: "Regresar"
- tapOn: "Estadísticas"

# Verificar métricas personales
- assertVisible:
    text: "Total atestiguamientos"
    optional: true
- assertVisible:
    text: "Mesas atestiguadas"
    optional: true
- assertVisible:
    text: "Nivel de participación"
    optional: true

# === FASE 11: HISTORIAL DE CERTIFICADOS ===
- tapOn: "Certificados"
- assertVisible:
    text: "Mis Certificados NFT"
    optional: true

# Ver lista de certificados
- assertVisible:
    text: "Certificado #"
    optional: true
- assertVisible:
    text: "Mesa atestiguada"
    optional: true

# === FASE 12: COMPARAR ATESTIGUAMIENTOS ===
- tapOn: "Comparar"
- assertVisible:
    text: "Selecciona atestiguamientos para comparar"
    optional: true

# Seleccionar múltiples atestiguamientos
- tapOn:
    text: "Mesa 120"
    optional: true
- tapOn:
    text: "Mesa 150"
    optional: true

- tapOn: "Comparar seleccionados"
- assertVisible:
    text: "Comparación de Atestiguamientos"
    optional: true

# === FASE 13: NOTIFICACIONES DE ATESTIGUAMIENTOS ===
- tapOn: "Regresar"
- tapOn: "Notificaciones"

# Ver notificaciones relacionadas
- assertVisible:
    text: "Atestiguamiento confirmado"
    optional: true
- assertVisible:
    text: "Certificado generado"
    optional: true

# === FASE 14: CONFIGURACIÓN DE HISTORIAL ===
- tapOn: "Configuración"
- assertVisible:
    text: "Configurar notificaciones"
    optional: true
- assertVisible:
    text: "Exportación automática"
    optional: true

# Configurar notificaciones
- tapOn: "Notificar nuevos certificados"
- assertVisible:
    text: "Notificaciones activadas"
    optional: true

# === FASE 15: RESPALDO Y SINCRONIZACIÓN ===
- tapOn: "Respaldo"
- assertVisible:
    text: "Respaldar atestiguamientos"
    optional: true
- assertVisible:
    text: "Sincronizar con la nube"
    optional: true

- tapOn: "Sincronizar ahora"
- extendedWaitUntil:
    visible: "Sincronización completada"
    timeout: 15000
    optional: true

# === FASE 16: NAVEGACIÓN DE REGRESO ===
- tapOn: "Regresar"
- tapOn: "Regresar"
- assertVisible: "Mis Atestiguamientos"

# === FASE 17: ACCESO RÁPIDO DESDE INICIO ===
- tapOn: "Inicio"
- assertVisible:
    text: "Atestiguamientos recientes"
    optional: true

# Widget de acceso rápido
- tapOn:
    text: "Ver todos los atestiguamientos"
    optional: true
- assertVisible: "Mis Atestiguamientos"
