appId: com.tuvotodecide
---
- runFlow:
    when:
        true: ${RECORD_TYPE == 'new'}
    file: components/voting/cases/doesNotExists.yaml

- runFlow:
    when:
        true: ${RECORD_TYPE == 'submited'}
    file: components/voting/cases/doesExists.yaml


- runFlow:
    when:
        true: ${CAPTURE_TYPE == 'camera'}
    file: components/voting/captureMethod/cameraCapture.yaml

- runFlow:
    when:
        true: ${CAPTURE_TYPE == 'gallery'}
    file: components/voting/captureMethod/galleryCapture.yaml

- tapOn:
    id: analyzePhotoButton

- extendedWaitUntil:
    visible:
      id: photoReviewScreenInstructionsText
    timeout: 25000

- scrollUntilVisible:
    element:
      id: editButton

- tapOn:
    id: editButton

- runFlow: components/records/electoralRecord1.yaml

- tapOn:
    id: nextButton

- extendedWaitUntil:
    visible:
      id: publishAndCertifyButton
    timeout: 5000

- tapOn:
    id: publishAndCertifyButton

- runFlow:
    when:
        true: ${ASSERTION_TYPE == 'new'}
    file: components/voting/finish/assertValidUploading.yaml

- runFlow:
    when:
        true: ${ASSERTION_TYPE == 'submited'}
    file: components/voting/finish/assertRepeatedUploading.yaml

- runFlow:
    when:
        true: ${ASSERTION_TYPE == 'sumatory'}
    file: components/voting/finish/assertBadSumatory.yaml