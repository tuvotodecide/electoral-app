appId: com.tuvotodecide
---
- runFlow:
    when:
        true: ${RECORD_TYPE == 'new'}
    file: ../cases/doesNotExists.yaml

- runFlow:
    when:
        true: ${RECORD_TYPE == 'submited'}
    file: ../cases/doesExists.yaml


- runFlow:
    when:
        true: ${CAPTURE_TYPE == 'camera'}
    file: ../captureMethod/cameraCapture.yaml

- runFlow:
    when:
        true: ${CAPTURE_TYPE == 'gallery'}
    file: ../captureMethod/galleryCapture.yaml

- tapOn:
    id: analyzePhotoButton

- extendedWaitUntil:
    visible:
      id: photoReviewScreenInstructionsText
    timeout: 25000

- scrollUntilVisible:
    element:
      id: photoReviewEditButton

- tapOn:
    id: photoReviewEditButton

- runFlow: 
    when:
        true: ${RECORD_FILE == 'wrongElectoralRecord'}
    file: ../../records/wrongElectoralRecord.yaml

- runFlow: 
    when:
        true: ${RECORD_FILE == 'electoralRecord1'}
    file: ../../records/electoralRecord1.yaml


- tapOn:
    id: photoReviewNextButton

- extendedWaitUntil:
    visible:
      id: publishAndCertifyButton
    timeout: 5000

- tapOn:
    id: publishAndCertifyButton
- tapOn:
    id: photoConfirmationConfirmButton
- runFlow:
    when:
        true: ${ASSERTION_TYPE_TYPE == 'pass'}
    file: ../finish/assertValidUploading.yaml

#- runFlow:
#    when:
#        true: ${ASSERTION_TYPE == 'submited'}
#    file: ../finish/assertRepeatedUploading.yaml

#- runFlow:
#    when:
#        true: ${ASSERTION_TYPE == 'sumatory'}
#    file: ../finish/assertBadSumatory.yaml